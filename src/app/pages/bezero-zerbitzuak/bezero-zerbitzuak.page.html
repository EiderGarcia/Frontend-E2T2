<ion-page>
  <ion-content class="ion-padding">

    <h2 class="section-title">Ordutegia</h2>

    <div class="schedule-card">
      @for (day of schedule; track day.name) {
        <div class="row">
          <span>{{ day.name }}</span>
          <strong [class.closed]="!day.open">
            {{ day.open ? day.hours : 'Itxita' }}
          </strong>
        </div>
      }
    </div>

    <h2 class="section-title">Zerbitzuak</h2>

    <!-- FILTER PILLS — now iterating objects, no pipe on .replace() -->
    <div class="filters">
      @for (cat of categories; track cat.value) {
        <div
          class="chip"
          [class.active]="selectedCategory === cat.value"
          (click)="selectCategory(cat.value)"
        >
          {{ cat.label }}
        </div>
      }
    </div>

    <!-- SERVICES GRID -->
    <div class="services-grid">
      @for (service of filteredServices; track service.name) {
        <div class="service-card">
          <div class="service-info">
            <span class="service-name">{{ service.name }}</span>
            <strong class="service-price">{{ service.price }}€</strong>
          </div>
          @if (selectedCategory === 'all') {
            <div class="category-pill">{{ getCategoryLabel(service.category) }}</div>
          }
        </div>
      }
    </div>

  </ion-content>
</ion-page>